<?xml version="1.0"?><mx:Module xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" creationComplete="init()">	<mx:Script>        <![CDATA[            //import mx.utils.* 			import mx.controls.Alert;			import Standard.Module_event;            import Standard.Request;						private var params:Object;						private function init():void			{				//params = pasrse_string();				params = new Object();				params["map"] = parentApplication.map_xml();			}						/**			* Returns a Hash of params from query string			* Author: http://livedocs.adobe.com/flex/3/html/help.html?content=modular_5.html			*/            public function pasrse_string():Object			{                try				{                    // Remove everything before the question mark, including                    // the question mark.                    var my_pattern:RegExp = /.*\?/;                      var s:String = this.loaderInfo.url.toString();                    s = s.replace(my_pattern, "");                    // Create an Array of name=value Strings.                    var params:Array = s.split("&");										var hash:Object = new Object();                                         // Print the params that are in the Array.                    var keyStr:String;                    var valueStr:String;                    var paramObj:Object = params;                    for (keyStr in paramObj) {                        valueStr = String(paramObj[keyStr]);						hash[keyStr] = valueStr;                    }					return hash;                }				catch (e:Error)				{                    trace(e);                }				return null;            }						import mx.events.CloseEvent; 						/**			* Sends Map name, number of players, and map data to server			*/			private function send_map(event:MouseEvent):void 			{				//Request				var variables:Object = new Object();				variables["name"] = map_name.text;				variables["players"] = num_players.text;				variables["data"] = params["map"];				var request:Request = new Request(variables, "http://localhost:3000/front/save", "POST");				request.addEventListener("complete", on_complete);				function on_complete(evt:Event):void				{					Alert.show("Response:\n" + request.get_response(), "Flash",0, Sprite(parentApplication));					dispatchEvent(new Module_event(Module_event.COMPLETE, false, false));				}				request.load();			}        ]]>    </mx:Script>		<mx:Panel title = "Map export">		<mx:Form>			<mx:FormHeading label = "Map Attributes"/>			<mx:FormItem label = "Map name">				<mx:TextInput id = "map_name"></mx:TextInput>			</mx:FormItem>			<mx:FormItem label = "Number of Players">				<mx:TextInput id = "num_players"></mx:TextInput>			</mx:FormItem>			<mx:FormItem>                <mx:Button id="submit" label="Submit" click="send_map(event);"/>            </mx:FormItem>		</mx:Form>	</mx:Panel></mx:Module>